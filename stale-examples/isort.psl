principal A
principal B

def list-cond : 
    ğ”¹{bcir:A,B} 
  â†’ list â„¤{bcir:A,B}
  â†’ list â„¤{bcir:A,B} 
  â†’ list â„¤{bcir:A,B}
def list-cond = rÎ» rec b â†’ Î» xs â†’ Î» ys â†’ case xs,ys
  { [],_ â†’ ys
  ; _,[] â†’ xs
  ; xâˆ·xsâ€²,yâˆ·ysâ€² â†’ circuit b ? x â—‡ y âˆ· rec bsâ€² xsâ€² ysâ€²
  }

def insert : âˆ€ P:â„™. {P} âŠ† {A,B} â‡’ â„¤{sec:P} â†’ list â„¤{bcir:A,B} â†’ list â„¤{bcir:A,B}
def insert = rÎ» rec x â†’ Î» ys â†’ case ys
  { [] â†’ circuit x âˆ· []
  ; yâˆ·ysâ€² â†’ 
      list-cond (circuit x â‰¤ y)
                (circuit x âˆ· circuit y âˆ· ysâ€²)
                (circuit y âˆ· rec x ysâ€²)
  }

def isort : list â„¤{par:A,B} â†’ list â„¤{bcir:A,B}
def isort = rÎ» rec xys â†’ case xys
  { [] â†’ []
  ; âŸ¨x@A;y@BâŸ©âˆ·xysâ€² â†’ insert@A x (insert@B y (rec xysâ€²))
  }

def isort-mpc : list â„¤{par:A,B} â†’ MPC{A,B âª« A,B} list â„¤
def isort-mpc = Î» xys â†’ mpc{yao:A,B} isort xys


principal A B

def main • =
  let x = share {yao:A → A,B} [L 1 ; R 2]
  in mux case x
    { [L x;L y] → 1
    ; [L x;R y] → 2
    ; [R x;L y] → 3
    ; [R x;R y] → 4
    }

def expected = share{yao:A → A,B} 2


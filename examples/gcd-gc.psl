principal A B

def sec gcd (a, b) =
  mux if (a == 0) then b
  else gcd (b % a, a)

def main () =
  par {A, B}
    let a = share {yao, ℤ : A → A,B} (par {A} (read int from "gcd.txt")) in
    let b = share {yao, ℤ : B → A,B} (par {B} (read int from "gcd.txt")) in
    reveal {yao : A, B → A} (eval-upto gcd 93n (int-minmax a b))

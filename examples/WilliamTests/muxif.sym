principal A B C

def main : (unit@all -> int@{A})@all
def main () = let x =  par {A, B, C } (share [yao, int : A -> {A,B,C}] (par {A} true) )  in let y = (par {A, B, C } (share [yao, int : A -> {A,B,C}] (par {A} 2) )) in let z = (par {A, B, C } (share [yao, int : A -> {A,B,C}] (par {A} 2) )) in (par {A, B, C} (if x then y else z))

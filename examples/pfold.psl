principal A
principal B
principal C[2]
principal E

def pfold : âˆ€ A:â˜†,P:â„™. â„¤ â†’ ((Q:â„™ | QâŠ†P) â†’ â„¤{Q} â†’ A â†’ A) â†’ â„¤{isec:P} â†’{sec:P} A
def pfold i f xy = case xy
  { âŸªâŸ« â†’ i
  ; âŸªQ.xâŸ«â§ºxyâ€² â†’ f Q x (pfold i f xyâ€²)
  }

def main : ğŸ™ â†’{inp:A,B;rev:E} list â„¤{ssec:E}
def main â€¢ = 
  let xy : â„¤{isec:A,B}
  let xy = {par:A,B} read â„¤ "pfold.txt"
  in
  reveal{E} (pfold 0 (Î» Q x i â†’ (share{yao:C} x) + i) xy)

principal A B

def main • =
  par {A,B}
    let x = share{yao:A → A,B} (par {A:ℤ} 10) in
    let y = share{yao:B → A,B} (par {B:ℤ} 20) in
    reveal {yao:A,B → A,B} (mux if x == y then 4 else y)

principal A
principal B

def add : â„¤[64]{isec:A,B} â†’ ğ”¹{acir:A,B}
def add = Î» xy â†’ 
  let x : â„¤[64]{ncir:A}
  let x = ~xy.A 
  let y : â„¤[64]{ncir:B}
  let y = ~xy.B
  let r : ğ”¹{ccir:B}
  let r = x + y
  in r

def add-mpc : ğŸ™ â†’{inp:A,B} â„¤[64]{yshare:A,B}
def add-mpc = Î» â€¢ â†’
  let xy : â„¤[64]{isec:A,B}
  let xy = {par:A,B} read â„¤[64] "e1-input.txt"
  let r : â„¤[64]{yshare:A,B}
  let r = mpc{yao:A,B} add xy
  in r 

def add-mpc-rev : ğŸ™ â†’{inp:A,B;rev:A,B} â„¤{ssec:A,B}
def add-mpc-rev = Î» â€¢ â†’
  let r : â„¤[64]{yshare:A,B}
  let r = add-mpc â€¢
  let p : â„¤[64]{ssec:A,B}
  let p = reveal{A,B} r
  in p

def one-liner : ğŸ™ â†’{inp:A,B;rev:A,B} â„¤[64]{ssec:A,B}
def one-liner = Î» â€¢ â†’
  let xy = {par:A,B} read â„¤[64] "e1-input.txt"
  in reveal{A,B} mpc{yao:A,B} ~xy.A + ~xy.B

def main : â„¤[64]{ssec:A,B} Ã— â„¤[64]{ssec:A,B}
def main = add-mpc-rev â€¢ , one-liner â€¢

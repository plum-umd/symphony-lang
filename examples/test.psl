principal A
principal B

def main () =
  par {A,B}
    let b = share {yao:A -> this} (par {A} true)
    in if b
         then 0
         else 1
